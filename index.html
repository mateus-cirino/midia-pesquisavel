<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <title>Mídia Pesquisável</title>
</head>

<body>
    <div class="bg-indigo-900 h-screen flex flex-col">

        <!-- This is an example component -->
        <div class="pt-2 relative mx-auto text-gray-600 self-center">
            <input id="searchBar" class="border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none"
            type="search" name="search" placeholder="Search">
            <button type="submit" class="absolute right-0 top-0 mt-5 mr-4">
            <svg class="text-gray-600 h-4 w-4 fill-current" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px"
                viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve"
                width="512px" height="512px">
                <path
                d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z" />
            </svg>
            </button>
        </div>

        <div id="buscaArquivo" class="w-1/2 bg-gray-100 self-center m-2 rounded-lg hidden">
            <div class="border-gray-200 border-2 rounded-lg m-2 p-2 transition duration-500 ease-in-out hover:bg-indigo-700 hover:text-white">
                <h1 class="hidden m-2 text-xl"></h1>
                <p class="hidden m-2 text-xs"></p>
                <button class="hidden m-2 bg-indigo-900 text-white p-2 rounded-lg text-sm"><a href="" target="_blank" rel="noopener noreferrer">Mostrar arquivo</a></button>
            </div>
        </div>

        <div id="arquivo" class="hidden" name="arquivo-1" page="23" ocr="Cras ultricies ligula sed magna dictum porta. Vivamus suscipit tortor eget felis porttitor volutpat. Nulla porttitor accumsan tincidunt. Curabitur aliquet quam id dui posuere blandit. Cras ultricies ligula sed magna dictum porta. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Pellentesque in ipsum id orci porta dapibus. Pellentesque in ipsum id orci porta dapibus."
        url="Lorem-Ipsum-example.jpg">
        </div>

    </div>
    <script>
        var searchBar = document.querySelector('#searchBar');
        searchBar.addEventListener('keyup', function() {
            let arquivo = document.querySelector('#arquivo');
            let buscaArquivo = document.querySelector('#buscaArquivo');
            buscaArquivoH1 = buscaArquivo.querySelector('h1');
            buscaArquivoP = buscaArquivo.querySelector('p');
            buscaArquivoButton = buscaArquivo.querySelector('button');
            buscaArquivoA = buscaArquivo.querySelector('a');

            if(arquivo.getAttribute('ocr').indexOf(searchBar.value) != -1 && searchBar.value != '') {
                buscaArquivo.classList.remove('hidden');
                buscaArquivoH1.classList.remove('hidden');
                buscaArquivoP.classList.remove('hidden');
                buscaArquivoButton.classList.remove('hidden');


                buscaArquivoH1.textContent = "Nome do arquivo: " + arquivo.getAttribute('name').valueOf();
                buscaArquivoP.textContent = "A palavra: " + searchBar.value + " foi encontrada na página "+ arquivo.getAttribute('page').valueOf();
                buscaArquivoA.setAttribute('href', arquivo.getAttribute('url').valueOf());

                
            }else {
                buscaArquivo.classList.add('hidden');
                buscaArquivoH1.classList.add('hidden');
                buscaArquivoP.classList.add('hidden');
                buscaArquivoButton.classList.add('hidden');


                buscaArquivoH1.textContent = '';
                buscaArquivoA.setAttribute("href", '');

                
            }
        });
    </script>
</body>

</html>